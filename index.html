<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Parseit by pmoracho</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Parseit</h1>
      <h2 class="project-tagline">A fixed record lenght text file parser</h2>
      <a href="https://github.com/pmoracho/parseit" class="btn">Ver en GitHub</a>
      <a href="https://github.com/pmoracho/parseit/raw/master/dist/parseit-20160606.zip" class="btn">Decargar ejecutables para Windows</a>
    </section>

    <section class="main-content">
      <h1>
<a id="parseit" class="anchor" href="#parseit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parseit</h1>

<p><code>Parseit</code> es una herramienta de linea de comandos para "interpretar" archivos
de texto con formato (Con o sin delimitador). </p>

<p>Para entender que es <code>parseit</code> nada mejor que un ejemplo práctico:</p>

<p>Para el intercambio de información con el <strong>Afip</strong> (Agencia federal de ingresos
públicos), se suele trabajar con este tipo de archivos. En particular los
contribuyentes grandes, que suelen generar gran cantidad de información, y a
los que les resulta más óptimo trabajar mediante la importación de archivos
directamente en los aplicativos del mencionado organismo. Veamos un caso típico
de una aplicación, la del Sistema federal de información más conocido como
<strong>SIFERE</strong> que permite importar masivamente la información de retenciones y
percepciones. El archivo de importación (texto, con campos de longitud fija y
caracteres de fin de linea) tiene un formato ya definido como el siguiente:</p>

<pre><code>90130-00000000-901/01/200612341234567891234560FA0000000000010000123500000125,20
90130-00000000-901/01/200612341234567891234560FA0000000000010000123500000125,20
90130-00000000-901/01/200612341234567891234560FA0000000000010000123500000125,20
</code></pre>

<p>Leer un archivo así tiene sus complicaciones, si bien los datos están en texto
claro resulta complicado analizarlo, y aquí es dónde entra <strong>Parseit</strong>.  Para
poder interpretar este archivo de una forma más conveniente, y usando la
documentación que oportunamente Para preparar el entorno virtual simplemente
haremos <code>python tools\make.py devinstall</code>, este proceso si resulta exitoso
deberá haber realizado las siguientes tareas: publica el Afip, podemos definir
dicho formato en una archivo JSON, por ejemplo de la siguiente forma:</p>

<pre><code>        "sifere-retenciones": {
            "category": "Afip.Sifere",
            "delimiter": "",
            "fields": {
                "Código de Jurisdicción":         [ 3, "table", "sifere-jurisdicciones", ""],
                "CUIT del Agente de Retención":   [13, "string", "", ""],
                "Fecha de la Retención":          [10, "date", "%d/%m/%Y", "%d-%m-%Y"],
                "Número de Sucursal":             [ 4, "string", "", ""],
                "Número de constancia":           [16, "string", "", ""],
                "Tipo de Comprobante":            [ 1, "table", "sifere-tipo-comprobantes", ""],
                "Letra del Comprobante":          [ 1, "string", "", ""],
                "Número de Comprobante Original": [20, "string", "", ""],
                "Importe Retenido":               [11, "amount", "", ""]
            }
        },

</code></pre>

<p>Nótese que además de definir la longitud de cada campo y el orden, definimos el
tipo de datos y particularmente algunos de los campos son "tablas", dónde el
dato en sí hace referencia a una tabla de valores ya definida también en el
archivo, por ejemplo algo así:</p>

<pre><code>    "sifere-jurisdicciones": {
        "901": "Capital Federal",
        "902": "Buenos Aires",
        "903": "Catamarca",
        "904": "Córdoba",
        "905": "Corrientes",
        "906": "Chaco",
        "907": "Chubut",
        "908": "Entre Ríos",
        "909": "Formosa",
        "910": "Jujuy",
        "911": "La Pampa",
        "912": "La Rioja",
        "913": "Mendoza",
        "914": "Misiones",
        "915": "Neuquén",
        "916": "Río Negro",
        "917": "Salta",
        "918": "San Juan",
        "919": "San Luis",
        "920": "Santa Cruz",
        "921": "Santa Fe",
        "922": "Santiago del Estero",
        "923": "Tierra del Fuego",
        "924": "Tucumán"
    },
    "sifere-tipo-comprobantes": {
        "F": "Factura",
        "R": "Recibo", 
        "D": "Nota de Débito",
        "C": "Nota de Crédito",
        "O": "Otro"
    },
</code></pre>

<p>De esta forma tenemos:</p>

<ul>
<li>Un archivo de texto con información en campos de longitud fija, por ejemplo:
<code>sifere.dat</code>
</li>
<li>Una definición JSON del formato, en un archivo de nombre <code>parseit.fmt</code> (puede
ser cualquier nombre, pero esto se lee automáticamente)</li>
<li>La herramienta <code>parseit</code> o <code>parseit.exe</code>
</li>
</ul>

<p>Con esta configuración al invocar <code>parseit sifere.dat</code> o eventualmente <code>python
parseit sifere.dat</code> obtendremos en la línea de comandos una salida como está:</p>

<pre><code>+----------+--------------------------+--------------------------------+-------------------------+----------------------+------------------------+-----------------------+-------------------------+----------------------------------+--------------------+
|   # Reg. | Código de Jurisdicción   | CUIT del Agente de Retención   | Fecha de la Retención   |   Número de Sucursal |   Número de constancia | Tipo de Comprobante   | Letra del Comprobante   |   Número de Comprobante Original |   Importe Retenido |
|----------+--------------------------+--------------------------------+-------------------------+----------------------+------------------------+-----------------------+-------------------------+----------------------------------+--------------------|
|        1 | 901 - Capital Federal    | 30-00000000-9                  | 01-01-2006              |                 1234 |       1234567891234560 | F - Factura           | A                       |             00000000000100001235 |             125.20 |
|        2 | 901 - Capital Federal    | 30-00000000-9                  | 01-01-2006              |                 1234 |       1234567891234560 | F - Factura           | A                       |             00000000000100001235 |             125.20 |
|        3 | 901 - Capital Federal    | 30-00000000-9                  | 01-01-2006              |                 1234 |       1234567891234560 | F - Factura           | A                       |             00000000000100001235 |             125.20 |
+----------+--------------------------+--------------------------------+-------------------------+----------------------+------------------------+-----------------------+-------------------------+----------------------------------+--------------------+

</code></pre>

<p>Que hizo <code>parseit</code>?</p>

<ul>
<li>Identificó y relacionó automáticamente al archivo de entrada con el formato
definido anteriormente</li>
<li>Extrajo los campos del archivo original y los separo y formateo
convenientemente</li>
<li>Agregó un titulo a cada columna según lo definido en el archivo de
configuración JSON</li>
<li>Completó la información en los campos tipo "tabla" de la forma código -
valor para mejorar la legibilidad</li>
<li>Formateo también los campos fecha para mejorar la lectura</li>
<li>Agregó una útil columna <code># Reg</code>
</li>
</ul>

<h1>
<a id="algunos-puntos-claves-de-este-proyecto" class="anchor" href="#algunos-puntos-claves-de-este-proyecto" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Algunos puntos claves de este proyecto:</h1>

<ul>
<li>Herramienta de línea de comandos</li>
<li>Interpretación de archivos de texto de formato especifico, con caractér de
fin de línea. </li>
<li>Interpretación de archivos CSV (valores separados por delimitadores). </li>
<li>Uso de archivos JSON para la definición del formato (consultar parseit.json)

<ul>
<li>Definición de campos, longitudes y formatos varios</li>
<li>Definición de valores tipo tabla (código: valor) para reemplazo al
mostrar de los mismos</li>
</ul>
</li>
<li>Especificación de un formato determinado o por defecto el archivo
"parseit.fmt" que estuviera en la misma carpeta de ejecutable</li>
<li>Varios formatos de exportación de los datos, entre otros:

<ul>
<li>psql </li>
<li>csv</li>
<li>html</li>
<li>etc.</li>
</ul>
</li>
<li>Definir que filas y que columnas mostrar</li>
<li>Útil visualización o "transposición" de la tabla al modo "horizontal"</li>
<li>Poder incorporar un hoja de estilos cuando los datos los exportamos a html</li>
<li>Poder exportar a un archivo determinado y apertura automática del mismo. </li>
<li>Con la distribución se agregan los formatos para interpretar los archivos de
texto para el Siap / Afip:

<ul>
<li>
<strong>ARCIBA</strong>: débitos y créditos</li>
<li>
<strong>RG3685</strong>: Compras: comprobantes y alícuotas, Ventas: comprobantes y
alicuotas</li>
<li>
<strong>SIFERE</strong>: Retenciones y percepciones</li>
<li>
<strong>SICORE</strong>: Retenciones y percepciones</li>
<li>
<strong>IIBB</strong>: Padrones de alto riesgo y régimen general</li>
</ul>
</li>
</ul>

<h1>
<a id="requerimientos-e-instalación" class="anchor" href="#requerimientos-e-instalaci%C3%B3n" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requerimientos e instalación:</h1>

<p>En Windows, nada en particular ya que se distribuye la herramienta "congelada"
mediante <strong>Pyinstaller</strong>. Descargarla y copiarla en alguna carpeta del sistema,
idealmente que esté apuntada al path.</p>

<ul>
<li>Para descargar y descomprimir <strong>Parseit</strong>, hacer click
<a href="https://github.com/pmoracho/parseit/blob/master/dist/parseit-20161011.zip">aqui</a>
</li>
<li>El proyecto en <a href="https://github.com/pmoracho/parseit"><strong>Github</strong></a>
</li>
</ul>

<h1>
<a id="ejemplos-de-uso" class="anchor" href="#ejemplos-de-uso" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ejemplos de Uso:</h1>

<h2>
<a id="invocación-sin-parámetros-o-con---help" class="anchor" href="#invocaci%C3%B3n-sin-par%C3%A1metros-o-con---help" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Invocación sin parámetros o con `--help</h2>

<pre><code>
uso: parseit [-h] [-v] [-f "path o archivo"] [-u "formato"] [-t] [-s] [-i]
             [-o "archivo"] [-x] [-e "formato"] [-c "columnas"] [-r "filas"]
             [-n] [-z] [-a] [-l "archivo css"]
             ["archivo a interpretar"]

Parseador de archivos
2016, Patricio Moracho &lt;pmoracho@gmail.com&gt;

argumentos posicionales:
  "archivo a interpretar"          Archivo de input

argumentos opcionales:
  -h, --help                       mostrar esta ayuda y salir
  -v, --version                    show program's version number and exit
  -f "path o archivo", --format "path o archivo"
                                   Definir path o archivo FMT a utilizar
  -u "formato", --useformat "formato"
                                   Forzar el uso de un determinado formato para porcesar el archivo
  -t, --dontusetables              No usar traducción por tablas y mostrar los datos nativos
  -s, --showformat                 Mostrar información de un formato (--format) en particular o todos los definidos
  -i, --ignorefmterror             Ignorar errores al cargar archivos de formatos
  -o "archivo", --outputfile "archivo"
                                   Exportar a un archivo
  -x, --openfile                   abrir automáticamente el archivo
  -e "formato", --exportformat "formato"
                                   Exportar en un formato específico
  -c "columnas", --showcols "columnas"
                                   Números de las columnas a mostrar
  -r "filas", --showrows "filas"   Números de las filas a mostrar
  -n, --dontshowrecordnumber       No mostrar los números de cada registro
  -z, --horizontalmode             Modo de visualización horizontal
  -a, --addtotals                  Agregar una última fila con los totales de los campos númericos
  -l "archivo css", --css-file "archivo css"
                                   Archivo de estilos (.Css) para la salida Html

Ejemplos de uso:

- Interpretar un archivo infiriendo el formato:
  parseit [opciones] &lt;archivo a interpretar&gt;

- Mostrar todos los formatos disponibles y sus definiciones:
  parseit [opciones] -s [opciones]

- Mostrar esta ayuda:
  parseit -h  
</code></pre>

<h2>
<a id="parseit-samplepadrontxt--r-4-912--c-1-1013" class="anchor" href="#parseit-samplepadrontxt--r-4-912--c-1-1013" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>parseit sample/padron.txt -r 4-9,12 -c 1-10,13</code>
</h2>

<p>Filtra los registros 4 al 9 y el 12, y muestra las columnas 1 a 10 y la 13 </p>

<pre><code>+----------+---------------+---------------+---------------+-------------+--------------+--------------+------------------+--------------+-------------+-----------------------------------+
|   # Reg. | Fecha Publ.   | Fecha Desde   | Fecha Hasta   |        CUIT | Tipo         | Marca Alta   | Marca Alícuota   |   Percepción |   Retención | Razón Social                      |
|----------+---------------+---------------+---------------+-------------+--------------+--------------+------------------+--------------+-------------+-----------------------------------|
|        4 | 27-06-2016    | 01-11-2016    | 30-11-2016    | 20044290775 | D - Directo  | S            | N                |         1.50 |        1.50 | LADEDA HORACIO JOSE               |
|        5 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004226039 | C - Convenio | S            | N                |         6.00 |        4.50 | MIGUENS JOSE ENRIQUE C            |
|        6 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004228635 | D - Directo  | S            | N                |         6.00 |        4.50 | LATUGAYE JOSE JORGE               |
|        7 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004234597 | D - Directo  | S            | N                |         6.00 |        4.50 | PREPELITCHI PEDRO                 |
|        8 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004234813 | D - Directo  | S            | N                |         6.00 |        4.50 | SUCESION DE SPOTA ALBERTO ANTONIO |
|        9 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004237375 | D - Directo  | S            | N                |         6.00 |        4.50 | ZAMORA JOSE MAXIMO                |
|       12 | 23-09-2016    | 01-10-2016    | 31-12-2016    | 20004246846 | D - Directo  | S            | N                |         6.00 |        4.50 | ROMANELLA EDUARDO EDGAR           |
+----------+---------------+---------------+---------------+-------------+--------------+--------------+------------------+--------------+-------------+-----------------------------------+

</code></pre>

<h2>
<a id="parseit-samplepadrontxt--r-411--z" class="anchor" href="#parseit-samplepadrontxt--r-411--z" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>parseit sample/padron.txt -r 4,11 -z</code>
</h2>

<p>Muestra solo los registros 4 y 11 y los muestra en le modo horizontal.</p>

<pre><code>+---------------------+---------------------+
|               Campo | Valor               |
|---------------------+---------------------|
|              # Reg. | 4                   |
|         Fecha Publ. | 27-06-2016          |
|         Fecha Desde | 01-11-2016          |
|         Fecha Hasta | 30-11-2016          |
|                CUIT | 20044290775         |
|                Tipo | D - Directo         |
|          Marca Alta | S                   |
|      Marca Alícuota | N                   |
|          Percepción | 1.5                 |
|           Retención | 1.5                 |
|       Grupo Percep. | 16                  |
|    Grupo Retención. | 16                  |
|        Razón Social | LADEDA HORACIO JOSE |
| ------------------- | ------------------- |
|              # Reg. | 11                  |
|         Fecha Publ. | 23-09-2016          |
|         Fecha Desde | 01-10-2016          |
|         Fecha Hasta | 31-12-2016          |
|                CUIT | 20004242042         |
|                Tipo | D - Directo         |
|          Marca Alta | S                   |
|      Marca Alícuota | N                   |
|          Percepción | 6.0                 |
|           Retención | 4.5                 |
|       Grupo Percep. | 00                  |
|    Grupo Retención. | 00                  |
|        Razón Social | PEQA JUAN CARLOS    |
| ------------------- | ------------------- |
+---------------------+---------------------+
</code></pre>

<h2>
<a id="parseit-samplepadrontxt--r-411--e-csv" class="anchor" href="#parseit-samplepadrontxt--r-411--e-csv" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>parseit sample/padron.txt -r 4,11 -e csv</code>
</h2>

<p>Muestra solo los registros 4 y 11 y los exporta en la forma tradicional CSV, por ejemplo para importar a un Excel.</p>

<pre><code>"# Reg.";"Fecha Publ.";"Fecha Desde";"Fecha Hasta";"CUIT";"Tipo";"Marca Alta";"Marca Alícuota";"Percepción";"Retención";"Grupo Percep.";"Grupo Retención.";"Razón Social"
"4";"27-06-2016";"01-11-2016";"30-11-2016";"20044290775";"D - Directo";"S";"N";"    1.50";"    1.50";"16";"16";"LADEDA HORACIO JOSE"
"11";"23-09-2016";"01-10-2016";"31-12-2016";"20004242042";"D - Directo";"S";"N";"    6.00";"    4.50";"00";"00";"PEQA JUAN CARLOS"
</code></pre>

<h2>
<a id="parseit-samplepadrontxt--r-411--e-html" class="anchor" href="#parseit-samplepadrontxt--r-411--e-html" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>parseit sample/padron.txt -r 4,11 -e html</code>
</h2>

<p>Generar una salida html de los registros 4 y 11</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;!doctype html&gt;
&lt;<span class="pl-ent">html</span> <span class="pl-e">lang</span>=<span class="pl-s"><span class="pl-pds">"</span>en<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">head</span>&gt;
&lt;<span class="pl-ent">meta</span> <span class="pl-e">charset</span>=<span class="pl-s"><span class="pl-pds">"</span>utf-8<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">meta</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span> <span class="pl-e">content</span>=<span class="pl-s"><span class="pl-pds">"</span>parseit - Parseador de archivos<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">meta</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>author<span class="pl-pds">"</span></span> <span class="pl-e">content</span>=<span class="pl-s"><span class="pl-pds">"</span>2016, Patricio Moracho &lt;pmoracho@gmail.com&gt;<span class="pl-pds">"</span></span>&gt;
<span class="pl-s1">&lt;<span class="pl-ent">style</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text/css<span class="pl-pds">"</span></span>&gt;</span>
<span class="pl-s1"></span>
<span class="pl-s1">                        <span class="pl-ent">table</span><span class="pl-e">.tabulate</span> {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">font-family</span></span>: <span class="pl-c1">Verdana</span>, Geneva, <span class="pl-c1">sans-serif</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">font-size</span></span>:<span class="pl-c1">10<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">color</span></span>:<span class="pl-c1">#000000</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-width</span></span>: <span class="pl-c1">1<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#eeeeee</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-collapse</span></span>: <span class="pl-c1">collapse</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#ffffff</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">width</span></span>: <span class="pl-c1">100<span class="pl-k">%</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">table-layout</span></span>: <span class="pl-c1">auto</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                        <span class="pl-ent">table</span><span class="pl-e">.tabulate</span> <span class="pl-ent">th</span> {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-width</span></span>: <span class="pl-c1">1<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">padding</span></span>: <span class="pl-c1">1<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-style</span></span>: <span class="pl-c1">solid</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-color</span></span>: <span class="pl-c1">#eeeeee</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">background-color</span></span>: <span class="pl-c1">#004f6f</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">color</span></span>:<span class="pl-c1">#fff</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">text-align</span></span>: <span class="pl-c1">left</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                        <span class="pl-ent">table</span><span class="pl-e">.tabulate</span> <span class="pl-ent">td</span> {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-width</span></span>   : <span class="pl-c1">1<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">padding</span></span>            : <span class="pl-c1">1<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-style</span></span>   : <span class="pl-c1">solid</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">border-color</span></span>   : <span class="pl-c1">#eeeeee</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">vertical-align</span></span> : <span class="pl-c1">top</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                        <span class="pl-ent">table</span><span class="pl-e">.tabulate</span> <span class="pl-ent">tr</span><span class="pl-e">:nth-of-type</span>(<span class="pl-c1">even</span>) {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">background-color</span></span>:<span class="pl-c1">#D2E4FC</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                        <span class="pl-ent">table</span><span class="pl-e">.tabulate</span> <span class="pl-ent">tr</span><span class="pl-e">:nth-of-type</span>(<span class="pl-c1">odd</span>) {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">background-color</span></span>:<span class="pl-c1">#F7FDFA</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                        <span class="pl-ent">p</span> {</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">font-family</span></span>: <span class="pl-c1">Verdana</span>, Geneva, <span class="pl-c1">sans-serif</span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">font-size</span></span>:<span class="pl-c1">14<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">width</span></span>: <span class="pl-c1">100<span class="pl-k">%</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">padding</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">margin</span></span>: <span class="pl-c1">0<span class="pl-k">px</span></span>;</span>
<span class="pl-s1">                                <span class="pl-c1"><span class="pl-c1">text-align</span></span>: <span class="pl-c1">center</span>;</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1"></span>
<span class="pl-s1">&lt;/<span class="pl-ent">style</span>&gt;</span>
&lt;<span class="pl-ent">title</span>&gt;Archivo: sample/padron.txt (Padron-iibb-general)&lt;/<span class="pl-ent">title</span>&gt;
&lt;/<span class="pl-ent">head</span>&gt;
&lt;<span class="pl-ent">body</span>&gt;
&lt;<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">b</span>&gt;Archivo: sample/padron.txt (Padron-iibb-general)&lt;/<span class="pl-ent">b</span>&gt;&lt;/<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">p</span>&gt;Cantidad de registros visualizados: 2&lt;/<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">p</span>&gt;&lt;/<span class="pl-ent">br</span>&gt;&lt;/<span class="pl-ent">p</span>&gt;&lt;<span class="pl-ent">table</span> <span class="pl-e">class</span>=<span class="pl-s">tabulate</span>&gt;
&lt;<span class="pl-ent">thead</span>&gt;
&lt;<span class="pl-ent">tr</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;# Reg.&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Fecha Publ.&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Fecha Desde&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Fecha Hasta&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;CUIT&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Tipo&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Marca Alta&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Marca Al<span class="pl-c1">&amp;iacute;</span>cuota&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;Percepci<span class="pl-c1">&amp;oacute;</span>n&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;Retenci<span class="pl-c1">&amp;oacute;</span>n&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;Grupo Percep.&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;Grupo Retenci<span class="pl-c1">&amp;oacute;</span>n.&lt;/<span class="pl-ent">th</span>&gt;&lt;<span class="pl-ent">th</span>&gt;Raz<span class="pl-c1">&amp;oacute;</span>n Social&lt;/<span class="pl-ent">th</span>&gt;&lt;/<span class="pl-ent">tr</span>&gt;
&lt;/<span class="pl-ent">thead</span>&gt;
&lt;<span class="pl-ent">tbody</span>&gt;
&lt;<span class="pl-ent">tr</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;4&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;27-06-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;01-11-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;30-11-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;20044290775&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;D - Directo&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;S&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;N&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;1.50&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;1.50&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;16&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;16&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;LADEDA HORACIO JOSE&lt;/<span class="pl-ent">td</span>&gt;&lt;/<span class="pl-ent">tr</span>&gt;
&lt;<span class="pl-ent">tr</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;11&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;23-09-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;01-10-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;31-12-2016&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;20004242042&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;D - Directo&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;S&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;N&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;6.00&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;4.50&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;00&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span> <span class="pl-e">style</span>=<span class="pl-s"><span class="pl-pds">"</span>text-align: right;<span class="pl-pds">"</span></span>&gt;00&lt;/<span class="pl-ent">td</span>&gt;&lt;<span class="pl-ent">td</span>&gt;PEQA JUAN CARLOS&lt;/<span class="pl-ent">td</span>&gt;&lt;/<span class="pl-ent">tr</span>&gt;
&lt;/<span class="pl-ent">tbody</span>&gt;
&lt;/<span class="pl-ent">table</span>&gt;&lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre></div>

<h2>
<a id="parseit-samplepadrontxt---e-html--o-salidahtml--x" class="anchor" href="#parseit-samplepadrontxt---e-html--o-salidahtml--x" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>parseit sample/padron.txt  -e html -o salida.html -x</code>
</h2>

<p>Exportar a html directo al archivo <code>salida.html</code> y abrirlo automáticamente con el navegador asociado</p>

<p><img src="https://github.com/pmoracho/parseit/raw/master/doc/images/export-html.png" alt="Captura de pantalla de un Chrome"></p>

<h1>
<a id="notas-para-el-desarrollador" class="anchor" href="#notas-para-el-desarrollador" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notas para el desarrollador:</h1>

<h2>
<a id="requisitos-iniciales" class="anchor" href="#requisitos-iniciales" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requisitos iniciales</h2>

<p>El proyecto <strong>parseit</strong> esta construido usando el lenguaje <strong>python</strong>, a la
fecha no se usan librerías adicionales a las propias de python, pero de todas
formas es recomendable preparar antes que nada, un entorno de desarrollo. A
continuación expondremos en detalle cuales son los pasos para tener preparado
el entorno de desarrollo. Este detalle esta orientado a la implementación sobre
Windows 32 bits, los pasos para versiones de 64 bits son sustancialmente
distintos, en particular por algunos de los "paquetes" que se construyen a
partir de módulos en C o C++, de igual forma la instalación sobre Linux tiene
sus grandes diferencias. Eventualmente profundizaremos sobre estos entornos,
pero en principio volvemos a señalar que el siguiente detalle aplica a los
ambientes Windows de 32 bits:</p>

<ul>
<li><p>Obviamente en primer lugar necesitaremos
<a href="https://www.python.org/ftp/python/3.4.0/python-3.4.0.msi">Python</a>, por ahora
únicamente la versión 3.4. La correcta instalación se debe verificar desde la
línea de comandos: <code>python --version</code>. Si todo se instaló correctamente se
debe ver algo como esto <code>Python 3.4.0</code>, sino verificar que Python.exe se
encuentre correctamente apuntado en el PATH.</p></li>
<li><p>Es conveniente pero no mandatorio hacer upgrade de la herramienta pip:
<code>python -m pip install --upgrade pip</code></p></li>
<li><p><a href="https://virtualenv.pypa.io/en/stable/">Virutalenv</a>. Es la herramienta
estándar para crear entornos "aislados" de python. Para no tener conflictos
de desarrollo lo que haremos mediante esta herramienta es crear un "entorno
virtual" de python en una carpeta del proyecto (venv). Este "entorno virtual"
contendrá una copia completa de Python, al activarlo se modifica el PATH al
python.exe que apuntará ahora a nuestra carpeta del entorno, evitando
cualquier tipo de conflicto con un entorno Python ya existente. La
instalación de virtualenv se hara mediante <code>pip install virtualenv</code></p></li>
<li><p>Descargar el proyecto desde <a href="https://github.com/pmoracho/parseit">Github</a>, se
puede descargar desde la página el proyecto como un archivo Zip, o si
contamos con <a href="https://git-for-windows.github.io/">Git</a> sencillamente haremos
un <code>git clone https://github.com/pmoracho/parseit</code>.</p></li>
<li><p>El proyecto una vez descomprimido o luego del clonado del repositorio tendrá
una estructura de directorios similar a la siguiente:</p></li>
</ul>

<pre><code>parseit.git
   |-dist
   |-tests
   |-tools
</code></pre>

<h2>
<a id="preparación-del-entorno-virtual-local" class="anchor" href="#preparaci%C3%B3n-del-entorno-virtual-local" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preparación del entorno virtual local</h2>

<p>Para poder ejecutar, o crear la distribución de la herramientas, lo primero que
deberemos hacer es armar un entorno python "virtual" que alojaremos en una
subcarpeta del directorio principal que llamaremos "venv". En el proyecto
incorporamos una herramienta de automatización de algunas tareas básicas. Se
trata de <code>make.py</code>, la forma de ejecutarlo es la siguiente: <code>python
tools\make.py &lt;comando&gt;</code> la ejecución si parámetros o mediante el parámetro
<code>--help</code> arrojará una salida como lo que sigue:</p>

<pre><code>Automatización de tareas para el proyecto Paresit
(c) 2016, Patricio Moracho &lt;pmoracho@gmail.com&gt;

Uso: make &lt;command&gt; [&lt;args&gt;]

Los comandos más usados:
   devcheck   Hace una verificación del entorno de desarrollo
   devinstall Realiza la instalación del entorno de desarrollo virtual e instala los requerimientos
   docinstall Intalación de Sphinx
   clear      Elimina archivos innecesarios
   test       Ejecuta todos los tests definidos del proyecto
   build      Construye la distribución binaria de las herramientas del proyecto

argumentos posicionales:
  command     Comando a ejecutar

argumentos opcionales:
  -h, --help  mostrar esta ayuda y salir
</code></pre>

<p>Para preparar el entorno virtual simplemente haremos <code>python tools\make.py
devinstall</code>, este proceso si resulta exitoso deberá haber realizado las
siguientes tareas:</p>

<ul>
<li>Creación de un entorno pyhton virtual en la carpeta "venv", invocable
mediante <code>venv\Scripts\activate.bat</code> en Windows o <code>source
venv/Scripts/activate</code> en entornos Linux o Cygwin/Mingw (en Windows)</li>
<li>Instalado todas las dependencias necesarias</li>
</ul>

<h2>
<a id="notas-adicionales" class="anchor" href="#notas-adicionales" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notas adicionales:</h2>

<ul>
<li><p>Es recomendable y cómodo, pero entiendo que no es mandatorio, contar con un
entorno estilo "Linux", por ejemplo <a href="http://www.mingw.org/">MinGW</a>, tal como
dice la página del proyecto: "MinGW provides a complete Open Source
programming tool set which is suitable for the development of native
MS-Windows applications, and which do not depend on any 3rd-party C-Runtime
DLLs. (It does depend on a number of DLLs provided by Microsoft themselves,
as components of the operating system; most notable among these is
MSVCRT.DLL, the Microsoft C runtime library. Additionally, threaded
applications must ship with a freely distributable thread support DLL,
provided as part of MinGW itself)." De este entorno requerimos algunas
herramientas de desarrollo: Bash para la línea de comandos y Make para la
automatización de varias tareas del proyecto. </p></li>
<li><p>Usar "soft tabs": Con cualquier editor que usemos configurar el uso del 
en vez de los espacios, yo prefiero el  puro al espacio, entiendo que es
válido el otro criterio pero ya los fuentes están con esta configuración, por
lo que para evitar problemas al compilar los .py recomiendo seguir usando
este criterio. Asimismo configurar en 4 posiciones estos .</p></li>
</ul>

<h2>
<a id="formatos" class="anchor" href="#formatos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Formatos</h2>

<ul>
<li>Los formatos se definen en uno o más archivos .FMT que no son más que
archivos <a href="http://www.json.org/">JSON</a>
</li>
<li>
<a href="http://www.jsoneditoronline.org/">JSON Editor Online</a> Para validar la
edición del archivo de formatos</li>
</ul>

<h1>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Changelog:</h1>

<h4>
<a id="version-12---2016-10-11" class="anchor" href="#version-12---2016-10-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.2 - 2016-10-11</h4>

<ul>
<li>Primera funcionalidad para el manejo de archivos CSV (separado por
delimitador)</li>
<li>Notas varias para el desarrollador</li>
</ul>

<h4>
<a id="version-11" class="anchor" href="#version-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 1.1</h4>

<ul>
<li>Primer release oficial de la herramienta</li>
<li>Se distribuyen varios formatos para interpretar archivos de Afip / Siap</li>
</ul>

<h4>
<a id="version-01" class="anchor" href="#version-01" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version 0.1</h4>

<ul>
<li>Versión inicial</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/pmoracho/parseit">Parseit</a> is maintained by <a href="https://github.com/pmoracho">pmoracho</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
